<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css"> 
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
</head>
<body>
    <div class="header-container">
        <h1>üñºÔ∏è  </h1> 
        <audio controls autoplay loop title= "Virago">
            <source src="music/Virago.mp3"> </audio>
        <a href="download.php">–°–∫–∞—á–∞—Ç—å Virago.mp3</a>

        <h1>–ü—Ä–∏–≤–µ—Ç —Ö—É–¥–æ–∂–Ω–∏–∫!</h1> 
        <a href="main.html" target="_self" title="–†–∏—Å–æ–≤–∞—Ç—å">üñçÔ∏è</a> 
        <h2>–†–∏—Å–æ–≤–∞—Ç—å</h2>

        <button id="showCursorsBtn">–ü–æ–∫–∞–∑–∞—Ç—å –∫—É—Ä—Å–æ—Ä—ã</button> <div id="cursorList"></div> 
    </div>

    <div class="button-column" style="overflow-y: auto;">
        <button id="myBtn">‚úâÔ∏è </button>
        <div id="message-container" style="display: none;"> 
            <p id="message"></p>
            <p id="Quizz"></p>
        </div>
    </div> 

    <script>
        // vkBridge.send('VKWebAppInit');

        const showCursorsBtn = document.getElementById('showCursorsBtn');
        const cursorList = document.getElementById('cursorList');

        showCursorsBtn.addEventListener('click', () => {
            // fetch('get-cursors.py')
            fetch('get-cursors.php')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(cursors => {
                    cursorList.innerHTML = ''; // Clear previous list

                    if (cursors.error) {
                        cursorList.textContent = cursors.error;
                        return;
                    }

                    cursors.forEach(cursor => {
                        const listItem = document.createElement('div');
                        listItem.textContent = cursor;
                        listItem.addEventListener('click', () => {
                                console.log("Selected cursor:", cursor); 
                        });
                        cursorList.appendChild(listItem);
                    });
                })
                .catch(error => {
                    console.error('There has been a problem with your fetch operation:', error);
                    cursorList.textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫—É—Ä—Å–æ—Ä–æ–≤';
                });
        });
    </script>
</body>
</html>
